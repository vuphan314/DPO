# Experiments (Linux)

<!-- ####################################################################### -->

## Benchmarks

### Downloading archives to this dir (`eval/`)
```bash
wget https://github.com/vuphan314/dpo/releases/download/v0/benchmarks_fweight.zip

wget https://github.com/vuphan314/dpo/releases/download/v0/benchmarks_iweight.zip

```

### Extracting downloaded archives into the same new dir `eval/benchmarks/`
```bash
unzip benchmarks_fweight.zip

unzip benchmarks_iweight.zip

```

### Files
- Dir `benchmarks/fweight/xcnf/chain/`: random chain formulas in XOR-CNF (float weights, for DPO)
- Dir `benchmarks/fweight/wcnf/chain/`: random chain formulas in CNF (float weights, for MaxHS)
  - Converted from XOR-CNF using [Tseitin transformation](https://pyeda.readthedocs.io/en/latest/expr.html#tseitin-s-encoding)
- Dir `benchmarks/iweight/wcnf/chain/`: random chain formulas in CNF (int weights, for UWrMaxSat)

<!-- ####################################################################### -->

## Binary solvers

### Downloading archive to this dir (`eval/`)
```bash
wget https://github.com/vuphan314/dpo/releases/download/v0/bin.zip
```

### Extracting downloaded archive into dir `eval/bin/`
```bash
unzip bin.zip
```

### Files
- `bin/lg.sif`: DPO's [planner](../lg/)
- `bin/dmc.sif`: DPO's [executor](../dmc/)
- `bin/maxhs`: [MaxHS](https://maxsat-evaluations.github.io/2021/mse21-solver-src/complete/maxhs.zip)
- `bin/uwrmaxsat`: [UWrMaxSat](https://maxsat-evaluations.github.io/2021/mse21-solver-src/complete/uwrmaxsat.zip)
- `bin/runsolver`: [tool to control and measure resource consumption](https://github.com/utpalbora/runsolver)

### DPO
#### Command
```bash
./wrapper.py --cf=../examples/chain_n100_k10.xcnf --solver=dpmc --sif=1 --wc=1 --er=1 --ep=1 --mf=1 --vs=0
```
#### Output
```
c s exact double prec-sci 2.48350482985027562e-21
v 1011111100101111110010000100111100101000110011001110001010110101011011111011100100010010110010111000
```
#### Solution
- The maximum is `2.48350482985027562e-21`.
- A maximizer is `1011111100101111110010000100111100101000110011001110001010110101011011111011100100010010110010111000` (list of values of variables in declared order).

### MaxHS
#### Command
```bash
./wrapper.py --cf=../examples/chain_n100_k10f.wcnf --solver=maxhs --vs=0
```
#### Output
```
o 39587.905057
v 1011110000101111110010000100111100101000000011001110001010110100010011111010000100010010110010111000100000110101011110011111001111001010100001100010111110010101000011000011000011010101111001110100001101100111100111110101101010100100101000110111100100110000110000101001010101101101011100000011001111111001110000000111111111110000111111111001100000001100011111100000000000111101000000110011111110011100001111001111100001101111111110011000000011000111000011000001111001010101111001100100001100010011010010101001011111110100001100110111100110110010110101011010000100000011111111111000011011011010110001001010001111111000000000001111010010010100111011010111011010010110001011011110000001100111111100111011001011010011101001000111111001100000001100010000001111111111100001100011010001111001011110111111100000000000111101110010111000011010000100000011111111111000011101011010101001001010001111111000000000001111001010010101011011010111001010010011101011011100001111001111100001101111101011011000101001000111000011000001111001010000001100111111100111010011010010101001011111111111100110000000110000110010110101011010000100011110011111000011011000000110011111110011101111000011000001111001011111100110000000110001000000110011111110011100000001111111111100001111111110011000000011000111111000000000001111010001111001111100001101100000011001111111001110111100001100000111100101111110011000000011000100000011111111111000011000000110011111110011101111111000000000001111011111100110000000110001001010010011101011011100100001101100111100111111101011011000101001000101111001001100001100010001101000111100101111001000011011001111001111111100101110000110100001011110010011000011000101000011011001111001111001010010011101011011101101111001001100001100011010110110001010010001000110100011110010111100100001101100111100111111110010111000011010000101111001001100001100011001111001010100001100000101101011110100101011101100001101010111100111101001010000101101010101000011011001111001111010111100110010000110001101111001001100001100010100001100110111100111000110100011110010111100100001101100111100111111110010111000011010000101111001001100001100010100001111100111100000000000011111111111000011110111100000110000111111111110000000000011110100101101011110100101011000110100011110010111101110100101000010110101011100101110000110100001100110100101010010111110000001100111111100111010110010110101011010000111111001100000001100010001111001111100001101100011010001111001011110111100001100000111100101110010111000011010000101000011111001111000000001011010111101001010111101111000001100001111111010010100001011010101100110100101010010111110000001100111111100111010110010110101011010000111111001100000001100011001101001010100101111100000011001111111001110101100101101010110100001111110011000000011000100011110011111000011011000000110011111110011101111000011000001111001011111100110000000110001001010010011101011011100000001111111111100001111101011011000101001000111111000000000001111010101111001100100001100010101001010100101101111110100001100110111100110101011010101101001000100011010001111001011110000111100111110000110111111001011100001101000011100001100000111100101000000111111111110000110010100100111010110111011111110000000000011110110101101100010100100010001111001111100001101110011110010101000011000111100001100000111100100110000110101011110011101000011111001111000000000000111111111110000111101111000001100001111111111100000000000111101011011010110001001010000010110101111010010101111001001010011101101011110100101000010110101010001101000111100101111010000011010101111001111111100101110000110100000111110010101000011000100011110011111000011011000000110011111110011101111000011000001111001011111100110000000110001000000111111111110000110101111001100100001100011111110000000000011110101000011001101111001110001101000111100101111000011110011111000011011111100101110000110100001110000110000011110010100000011001111111001110000111100111110000110111111111001100000001100011100001100000111100101
```

### UWrMaxSat
#### Command
```bash
./wrapper.py --cf=../examples/chain_n100_k10i.wcnf --solver=uwr --vs=0
```
#### Output
```
o 117
v 1011111100101111000010000100111100101000110011001110001010110100011111111001110100010001110010110100100000110101011110011110001101000111100101111010111110010101000011000111001011100001101000010100001101100111100111110101101010100100101000110111100100110000110000101001010101101101011100101001001110101101110000000111111111110000111110101101100010100100011111100000000000111101000000110011111110011100001111001111100001101111111110011000000011000111000011000001111001010101111001100100001100010101001010100101101111110100001100110111100110101011010101101001000100000011111111111000011010000111110011110000001111111000000000001111010111100000110000111111011010010110001011011110100001111100111100000011001011010011101001000101111000001100001111110000001111111111100001100011010001111001011110111111100000000000111101110010111000011010000100011110011111000011011101011010101001001010001111000011000001111001001010010101011011010111001010010011101011011100001111001111100001101111101011011000101001000111000011000001111001010000001100111111100111010011010010101001011111111111100110000000110000110010110101011010000100011110011111000011011000000110011111110011101111000011000001111001011111100110000000110001000000110011111110011100000001111111111100001111111110011000000011000111111000000000001111010001111001111100001101100000011001111111001110111100001100000111100101111110011000000011000100000011111111111000011000000110011111110011101111111000000000001111011111100110000000110001001010010011101011011100100001101100111100111111101011011000101001000101111001001100001100010001101000111100101111001000011011001111001111111100101110000110100001011110010011000011000101101101011000100101000101010010101001011011111100100101001110110101101010110101011010010001100111100101010000110000100001101100111100111110110000110101011110011101111001001100001100011001111001010100001100000101101011110100101011101100001101010111100111101001010000101101010101000011011001111001111010111100110010000110001101111001001100001100010100001100110111100111000110100011110010111100100001101100111100111111110010111000011010000101111001001100001100010100001111100111100000000000011111111111000011110111100000110000111111111110000000000011110100101101011110100101011000110100011110010111101110100101000010110101011100101110000110100001100110100101010010111110000001100111111100111010110010110101011010000111111001100000001100010001111001111100001101100101001001110101101110111100001100000111100101101011011000101001000101000011111001111000000011010010110001011011111101111000001100001111110010110100111010010001100110100101010010111110000001100111111100111010110010110101011010000111111001100000001100011010100101010010110111100000011001111111001110101010110101011010010001111110011000000011000100011110011111000011011000000110011111110011101111000011000001111001011111100110000000110001011010010110001011011110000001100111111100111011001011010011101001000111111001100000001100010101111001100100001100001000011011001111001111110100001100110111100111011110010011000011000100000011111111111000011000110100011110010111101111111000000000001111011100101110000110100001000000111111111110000110010100100111010110111011111110000000000011110110101101100010100100011010100101010010110111110011110010101000011000101010110101011010010000110000110101011110011100000011111111111000011001010010011101011011101111111000000000001111011010110110001010010001011011010110001001010000001111001111100001101111001001010011101101011111000011000001111001010010100100111010110111010000011010101111001111111010110110001010010000111110010101000011000100000011111111111000011000000110011111110011101111111000000000001111011111100110000000110001000000111111111110000110101111001100100001100011111110000000000011110101000011001101111001111001101001010100101111100000011001111111001110101100101101010110100001111110011000000011000100000011001111111001110001011010111101001010111111111001100000001100011010010100001011010101
```

<!-- ####################################################################### -->

## Data

### Downloading archive to this dir (`eval/`)
```bash
wget https://github.com/vuphan314/dpo/releases/download/v0/data.zip
```

### Extracting downloaded archive into dir `eval/data/`
```bash
unzip data.zip
```

### Files
- Dir `data/chain/*/dpmc/satprune/xor/`: DPO on XOR-CNF benchmarks (with CryptoMiniSat pruning)
  - Files `*.in`: commands
  - Files `*.log`: raw outputs
  - Files `*.out`: postprocessed outputs
- Dir `data/chain/*/maxhs`: MaxHS
- Dir `data/chain/*/uwr`: UWrMaxSat

<!-- ####################################################################### -->

## [Jupyter notebook](dpo.ipynb)
- At the end of the notebook, there is a figure used in the paper.
- Run all cells again to re-generate this figure from dir `data/`.
